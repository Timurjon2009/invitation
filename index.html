<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Далер &amp; Парвина — Приглашение</title>
<link rel="icon" href="photo_2025-08-13_00-27-01.jpg">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;1,400&family=Roboto:wght@400&display=swap" rel="stylesheet">

<style>
  .calendar {
  max-width: 500px;
  height: 400px;
  margin: 20px auto;
  text-align: center;
  background: rgba(255, 255, 255, 0);
  padding: 20px;
  font-family: "Playfair Display", serif;
}
.calendar h3 {
  margin: 0 0 10px;
  margin-bottom: 50px;
  margin-top: 100px;
  color: white;
  font-size: 1.8rem;
}

.weekdays, .days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  color: white;
  gap: 5px;
}
.weekdays div {
  font-weight: bold;
}
.days div {
  padding: 10px;
  width: 40px;
  color: rgb(255, 255, 255);
  border-radius: 100%;
  transition: background-color 0.3s ease;
}
.highlight {
  background-color: #6e1c1c00;
  border: rgb(255, 255, 255), solid, 1px;
  color: rgb(0, 0, 0);
  animation: fadeInCircle 1s ease forwards;
}
@keyframes fadeInCircle {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

  /* RESET */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#111;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

  /* PAGE LAYOUT */body {
    /* ТОЛЬКО ЭТОТ БЛОК НУЖНО ИЗМЕНИТЬ ДЛЯ ЦВЕТА */
    background: linear-gradient(-45deg, 
      #c59898,   /* Белый */
      #b40e37,   /* Бордовый */
      #cfb3b3,   /* Белый */
      #b40e37, /* Бордовый */
      #e4d0d0,
      #b40e37);    /* Белый */
    background-size: 400% 1000%;
    min-height: 100vh;
    margin: 0;
    animation: gradientFlow 12s ease infinite;


    color: #333;
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .section{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    overflow:hidden}

  /* HERO (replicates видео-стиль) */ 
/* Полноэкранный фон с эффектами */
.hero-bg {
  position: fixed; /* Фиксируем на весь экран */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1; /* Отправляем под основной контент */
  background: 
    /* Градиентное затемнение */
    linear-gradient(
      to bottom, 
      rgba(5, 2, 8, 0.55), 
      rgba(6, 6, 10, 0.15)
    ),
    /* Текстура */
    radial-gradient(
      circle at 20% 20%, 
      rgba(255, 255, 255, 0.02) 0%, 
      transparent 15%
    ),
    radial-gradient(
      circle at 80% 80%, 
      rgba(255, 255, 255, 0.02) 0%, 
      transparent 15%
    );
}
.names.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: 
    opacity 1.5s ease-out,
    transform 1.5s ease-out;
}

.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: 
    opacity 0.8s ease-out,
    transform 0.8s ease-out;
}

.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

.fade-in.slow {
transition-duration: 1.2s;
}

.fade-in.fast {
  transition-duration: 0.5s;
}

.fade-in-left {
transform: translateX(-50px);
}
.fade-in-right {
  transform: translateX(50px);
}
@keyframes textPop {
0% { opacity: 0; transform: scale(0.8); }
  80% { transform: scale(1.05); }
  100% { opacity: 1; transform: scale(1); }
}

.fade-in.pop {
  animation: textPop 1s ease-out forwards;
}
  .texth1{font-family:"Great Vibes",cursive;color:#fff;font-size:clamp(38px,8vw,96px);line-height:0.9;text-shadow:0 12px 36px rgba(0,0,0,0.6);display:block;letter-spacing:0.6px}
  /* HERO CONTENT (centered) */
  .hero-content{position:relative;z-index:2;text-align:center;padding:48px 20px;width:100%;max-width:1100px;}
  .names{font-family:"Great Vibes",cursive;color:#fff;font-size:clamp(38px,8vw,96px);line-height:0.9;text-shadow:0 12px 36px rgba(0,0,0,0.6);display:block;letter-spacing:0.6px}
  .subtitle{margin-top:12px;color:rgba(255,255,255,0.92);font-size:1.05rem;}
  .date-pill{font-family: 'Playfair Display', serif;margin-top:20px;display:inline-flex;align-items:center;gap:10px;padding:12px 20px;border-radius:999px;background:linear-gradient(90deg,#e7bdbd,#f3b9cf);color:#5b2438;font-weight:700;box-shadow:0 14px 40px rgba(88,34,60,0.12)}
  .time{margin-top:12px;color:rgba(255,255,255,0.9)}

  /* TOP NAV / LANG */
  .topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 6; /* Должен быть выше wave-container */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px;
  background: transparent; /* Прозрачный фон */
  color: rgba(255,255,255,0.95);
}
  .logo { color: rgba(255,255,255,0.95); font-weight:600; letter-spacing:1px }
  .lang-switch{display:flex;gap:8px}
  .lang-btn{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);color:#fff;padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600;backdrop-filter:blur(4px);transition:transform .12s}
  .lang-btn.active{background:linear-gradient(90deg,#ffe8ef,#f6cfe3);color:#5b2438;box-shadow:0 8px 28px rgba(88,34,60,0.14);transform:translateY(-3px)}

  /* SCROLL MOUSE */
  .scroll-down{position:absolute;left:50%;transform:translateX(-50%);bottom:22px;z-index:2;display:flex;flex-direction:column;align-items:center;gap:8px;color:#fff;cursor:pointer}
  .mouse{width:30px;height:48px;border-radius:18px;border:2px solid rgba(255,255,255,0.85);display:flex;align-items:flex-start;justify-content:center;padding-top:6px}
  .wheel{width:5px;height:9px;background:rgba(255,255,255,0.95);border-radius:2px;animation:wheel 1.3s infinite}
  @keyframes wheel{0%{transform:translateY(0)}50%{transform:translateY(9px)}100%{transform:translateY(0)}}

  /* CONTENT (below hero) */
  .content{background:#ffffff00;color:#11111100;padding:80px 20px}
  .wrap{max-width:980px;margin:0 auto}
  .card.show{opacity:1;transform:none}
  h2.section-title{font-size:1.4rem;margin-bottom:10px;color:#b40e37}
  p.lead{color:#ffffff;line-height:1.6}
 
  /* RSVP form */
  .rsvp form{display:flex;flex-direction:column;gap:10px}
  input,select,textarea{padding:12px;border-radius:8px;border:1px solid #e8e8e8;font-size:.95rem}
  .btn{padding:12px 18px;border-radius:10px;border:0;background:linear-gradient(90deg,#e67e7e,#d36b9d);color:#fff;font-weight:700;cursor:pointer;transition:transform .18s}
  .btn:hover{transform:translateY(-3px);box-shadow:0 8px 26px rgba(211,107,157,0.12)}

  /* Guests list */
  .guests-list{margin-top:16px;border-radius:10px;border:1px solid #f0e6ea;padding:10px;background:#fff}
  table{width:100%;border-collapse:collapse;font-size:0.95rem}
  th,td{padding:8px 10px;text-align:left;border-bottom:1px dashed #eee}
  th{font-weight:700;color:#666}

  /* FOOTER */
  footer{padding:28px;text-align:center;color:black;}

  /* small screens */
  @media (max-width:860px){
    .grid{grid-template-columns:1fr}
    .hero-content{padding:28px}
    .names{font-size:clamp(30px,9vw,56px)}
    .topbar{left:12px;right:12px}
  }
  .wedding-text {
  max-width: 900px;
  margin: 20px auto 0;
  color: rgba(255,255,255,0.92);
  font-family: "Playfair Display", serif;
  font-size: 1.15rem;
  line-height: 1.7;
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeUp 1.5s ease forwards;
  animation-delay: 0.5s;
}

.h2 {
    font-family:"Great Vibes";
    padding-bottom: 40px;
}

.h3 {
    font-family: "Playfair Display", serif;
    font-size: 100px;
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.hero-content1{position:relative;z-index:2;text-align:center;padding:48px 20px;width:100%;max-width:1100px;background-color: rgba(255, 255, 255, 0);margin: auto;}

/* NEW WAVE STYLES */
.wave-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 120px;
  z-index: 5;
  pointer-events: none;
  opacity: 0;
  animation: waveFadeIn 1.5s ease-out forwards;
  animation-delay: 0.3s;
  overflow: hidden;
}

@keyframes waveFadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.wave-svg {
  width: 100%;
  height: 100%;
  display: block;
  transform: rotate(180deg);
}

.texth1 {
    font-family:"Great Vibes";
    margin-top: 5px;
    font-size: 60px;
    
}
.p {
    font-family:"Great Vibes";
    margin-top: 10px;
    font-size: 40px;
}
.typewriter-text {
    display: inline;
    white-space: pre-wrap; /* Сохраняем пробелы и переносы */
  }
  
  .typewriter-char {
    display: inline-block;
    opacity: 0;
    transform: translateY(10px);
    animation: fadeInUp 0.3s ease-out forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .typing-cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background: #b40e37;
    vertical-align: middle;
    margin-left: 2px;
    animation: blink 0.7s infinite;
    opacity: 0; /* Начально невидим */
  }

  @keyframes blink {
    0%, 100% { opacity: 1 }
    50% { opacity: 0 }
  }

  /* Для плавного появления при скролле */
  .typing-trigger {
    min-height: 1px; /* Нужно для Intersection Observer */
  }
/* Добавьте в <style> */
.peony-container {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
  }

  .peony {
    position: absolute;
    opacity: 0;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
    transform: scale(0.7);
    transform-origin: center;
    z-index: -1;
    object-fit: contain;
    transition: 
      opacity 1.5s cubic-bezier(0.2, 0.9, 0.3, 1.2),
      transform 1.5s cubic-bezier(0.2, 0.9, 0.3, 1.2);
    will-change: transform, opacity;
  }

  .peony.visible {
    opacity: 1;
    transform: scale(1);
  }

  /* Индивидуальные анимации покачивания */
  .peony-1 { animation: gentleSway 11s ease-in-out infinite alternate; }
  .peony-2 { animation: gentleSway 9s ease-in-out -2s infinite alternate; }
  .peony-3 { animation: gentleSway 13s ease-in-out -1s infinite alternate; }
  .peony-4 { animation: gentleSway 10s ease-in-out -3s infinite alternate; }
  .peony-5 { animation: gentleSway 12s ease-in-out infinite alternate; }
  .peony-6 { animation: gentleSway 8s ease-in-out -2s infinite alternate; }
  .peony-7 { animation: gentleSway 14s ease-in-out -1s infinite alternate; }
  .peony-8 { animation: gentleSway 10s ease-in-out infinite alternate; }

  @keyframes gentleSway {
    0%, 100% { transform: rotate(-2deg) translateY(0); }
    50% { transform: rotate(2deg) translateY(-10px); }
  }

  /* Гарантируем что контент будет поверх пионов */
  .section, .content, .hero-content, 
  .hero-content1, .calendar, .wrap {
    position: relative;
    z-index: 2;
  }
/* таймер */
 .countdown-container {
    max-width: 600px;
    margin: 40px auto;
    margin-top: 200px;
    text-align: center;
    font-family: 'Playfair Display', serif;
    color: white;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  }
  
  .countdown-title {
    font-size: 1.8rem;
    margin-bottom: 20px;
    letter-spacing: 1px;
    color: white;
  }
  
  .countdown-timer {
    display: flex;
    justify-content: center;
    gap: 15px;
  }
  
  .countdown-item {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(8px);
    border-radius: 12px;
    padding: 20px 10px;
    min-width: 80px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border: 1px solid rgba(255,255,255,0.2);
  }
  
  .countdown-number {
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 5px;
    color: white;
  }
  
  .countdown-label {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    opacity: 0.8;
    color: white;
  }
  
  @media (max-width: 600px) {
    .countdown-timer {
      gap: 8px;
    }
    .countdown-item {
      min-width: 60px;
      padding: 15px 5px;
    }
    .countdown-number {
      font-size: 1.8rem;
      color: white;
    }
    .countdown-label {
      font-size: 0.7rem;
    }
  }
  #cardVenue {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

#venueVideo {
  border-radius: 12px;
  margin: 15px 0;
}
  #cardVenue {
    max-width: 500px;
    height: 800px;
    margin: 30px auto;
    padding: 25px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    text-align: center;
    color: white;
    transition: all 0.3s ease;
  }
  
  #venueTitle {
    font-size: 2rem;
    margin-bottom: 20px;
    font-weight: 600;
    letter-spacing: 1px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    color: rgb(85, 7, 7);
  }
  
  #venueVideo {
    width: 400px;
    max-height: 580px;
    border-radius: 12px;
    margin: 15px 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.3);
  }

  #venueText {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-top: 5px;
    opacity: 0.9;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }
  
  /* Адаптация для мобильных */
  @media (max-width: 768px) {
    #cardVenue {
      padding: 20px 15px;
      margin: 20px 15px;
    }
    
    #venueTitle {
      font-size: 1.6rem;
    }
    #venueText {
      font-size: 1rem;
    }
  }

  .h33 {
    text-align: center;
    margin-bottom: 30px;
  }
   .map-button {
    display: inline-block;
    padding: 14px 28px;
    background: linear-gradient(45deg, #b40e37, #fff);
    background-size: 200% 200%;
    color: white;
    text-decoration: none;
    border-radius: 50px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    font-family: 'Inter', sans-serif;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.6s ease;
    box-shadow: 0 4px 20px rgba(180, 14, 55, 0.3);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    position: relative;
    z-index: 1;
  }

  .map-button:hover {
    background-position: 100% 100%;
    color: #b40e37;
    transform: translateY(-3px);
    box-shadow: 0 6px 25px rgba(180, 14, 55, 0.4);
  }

  .map-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, #fff, #b40e37);
    opacity: 0;
    z-index: -1;
    transition: opacity 0.6s ease;
    border-radius: 50px;
  }
  
  .map-button:hover::before {
    opacity: 1;
  }
 
  .lang-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        backdrop-filter: blur(5px);
        animation: fadeIn 0.5s ease;
    }
    
    .lang-modal-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    
    .lang-modal h2 {
        font-family: 'Playfair Display', serif;
        color: #b40e37;
        margin-bottom: 25px;
        font-size: 1.8rem;
    }
    
    .lang-modal-buttons {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 20px;
    }
    
    .lang-modal-btn {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        background: #f5f5f5;
        color: #333;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .lang-modal-btn:hover {
        background: #b40e37;
        color: white;
        transform: translateY(-3px);
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    /* Добавьте этот стиль в раздел с календарем */
.days div.highlight {
  background-color: rgba(255, 255, 255, 0.2);
  border: 2px solid white;
  color: white;
  font-weight: bold;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
  animation: pulse 2s infinite alternate;
}

@keyframes pulse {
  from {
    transform: scale(1);
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
  }
  to {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
  }
}
    .lang-modal.hidden {
        display: none;
    }
    /* Адаптивные стили для мобильных устройств */
@media (max-width: 767px) {
  /* Основные настройки */
  body {
    font-size: 14px;
  }
  
  /* Герой-секция */
  .hero-content {
    padding: 20px 15px;
  }
  
  .names {
    font-size: clamp(28px, 10vw, 42px);
    margin-bottom: 10px;
  }
  
  .subtitle {
    font-size: 0.9rem;
    margin-top: 8px;
  }
  
  .date-pill {
    padding: 8px 16px;
    font-size: 0.9rem;
  }
  
  /* Календарь */
  .calendar {
    height: auto;
    padding: 15px;
    margin-top: 30px;
    margin-bottom: 30px;
  }
  
  .calendar h3 {
    font-size: 1.5rem;
    margin-top: 50px;
    margin-bottom: 30px;
  }
  
  .days div {
    padding: 5px;
    width: 30px;
    height: 30px;
    font-size: 0.8rem;
  }
  
  /* Таймер */
  .countdown-container {
    margin-top: 100px;
  }
  
  .countdown-title {
    font-size: 1.2rem;
  }
  
  .countdown-item {
    padding: 10px 5px;
    min-width: 60px;
  }
  
  .countdown-number {
    font-size: 1.5rem;
  }
  
  .countdown-label {
    font-size: 0.7rem;
  }
  
  /* Видео */
  #venueVideo {
    width: 100%;
    max-height: 300px;
  }
  
  /* Текст приглашения */
  .wedding-text {
    padding: 0 15px;
    font-size: 1rem;
  }
  
  .h2 {
    font-size: 1.8rem;
    padding-bottom: 20px;
  }
  
  .p {
    font-size: 1.5rem;
  }
  
  .texth1 {
    font-size: 2rem;
  }
  
  /* Форма RSVP */
  .content {
    padding: 40px 15px;
  }
  
  input, select, textarea {
    padding: 10px;
  }
  
  .btn {
    padding: 10px 15px;
  }
  
  /* Пионы */
  .peony {
    transform: scale(0.5);
  }
  
  .peony-1 { left: -10% !important; top: 5% !important; }
  .peony-2 { right: -10% !important; top: 10% !important; }
  .peony-3 { left: -15% !important; bottom: 10% !important; }
  .peony-4 { right: -10% !important; bottom: 15% !important; }
  .peony-5 { left: 25% !important; top: -5% !important; }
  .peony-6 { right: 20% !important; top: 60% !important; }
  .peony-7 { left: 10% !important; top: 65% !important; }
  .peony-8 { right: 5% !important; bottom: -5% !important; }
}
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 6; /* Должен быть выше wave-container */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px;
  background: transparent; /* Прозрачный фон */
  color: rgba(255,255,255,0.95);
}
/* Адаптивные стили для планшетов */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Герой-секция */
  .names {
    font-size: clamp(32px, 8vw, 60px);
  }
  
  /* Календарь */
  .calendar {
    max-width: 400px;
  }
  
  /* Видео */
  #venueVideo {
    width: 100%;
    max-height: 400px;
  }
  
  /* Пионы */
  .peony {
    transform: scale(0.7);
  }
}

/* Общие адаптивные настройки */
@media (max-width: 1023px) {
  /* Навигация */
  .topbar {
    top: 12px;
    left: 12px;
    right: 12px;
  }
  
  .lang-btn {
    padding: 6px 10px;
    font-size: 0.8rem;
  }
  
  /* Волны */
  .wave-container {
    height: 80px;
    margin-bottom: 400px;
  }
  
  /* Карточки */
  #cardVenue {
    height: auto;
    padding: 20px;
  }
  
  /* Кнопка карты */
  .map-button {
    padding: 12px 24px;
    font-size: 1rem;
  }
}

/* Адаптация для очень маленьких экранов */
@media (max-width: 480px) {
  .countdown-timer {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .countdown-item {
    min-width: 45px;
    padding: 8px 3px;
    margin: 5px;
  }
  
  .countdown-number {
    font-size: 1.2rem;
  }
  
  .countdown-label {
    font-size: 0.6rem;
  }
  
  /* Модальное окно языка */
  .lang-modal-content {
    padding: 20px 15px;
  }
  
  .lang-modal h2 {
    font-size: 1.4rem;
    margin-bottom: 15px;
  }
  
  .lang-modal-btn {
    padding: 10px 15px;
    font-size: 1rem;
  }
}

/* Адаптация для ландшафтной ориентации */
@media (max-height: 500px) and (orientation: landscape) {
  .section {
    min-height: 150vh;
  }
  
  .hero-content {
    padding-top: 80px;
  }
  
  .scroll-down {
    bottom: 10px;
  }
}
/* Добавьте эти стили в ваш CSS */
.text-block {
  opacity: 0;
  transform: translateY(20px);
  transition: 
    opacity 0.8s ease-out,
    transform 0.8s ease-out;
}

.text-block.visible {
  opacity: 1;
  transform: translateY(0);
}

</style>
</head>
<body>
    
  <!-- Модальное окно выбора языка -->
  <div class="lang-modal" id="langModal">
    <div class="lang-modal-content">
        <h2 id="langModalTitle"></h2>
        <div class="lang-modal-buttons">
          <button class="lang-modal-btn" data-lang="ru">Русский</button>
          <button class="lang-modal-btn" data-lang="en">English</button>
          <button class="lang-modal-btn" data-lang="uz">O'zbekcha</button>
        </div>
    </div>
</div>

<div class="peony-container" id="peonyContainer">
  <!-- Пионы с тщательно подобранными позициями -->
  <img src="sjr4z3sbuvpm66fxpv6tfz85qefwsgat-removebg-preview.png" 
       class="peony peony-1" alt="Пион"
       style="width: 340px; height: 340px; left: 8%; top: 12%;">
  
  <img src="KKQZ8142-480x480-removebg-preview.png" 
       class="peony peony-2" alt="Пион"
       style="width: 280px; height: 280px; right: 7%; top: 18%;">
  
  <img src="белые-пионы-в-саде-зацветая-белый-пион-крупный-план-красивого-белого-123816531-removebg-preview.png" 
       class="peony peony-3" alt="Пион"
       style="width: 380px; height: 380px; left: 5%; bottom: 15%;">
  
  <img src="sjr4z3sbuvpm66fxpv6tfz85qefwsgat-removebg-preview.png" 
       class="peony peony-4" alt="Пион"
       style="width: 260px; height: 260px; right: 6%; bottom: 20%;">
  
  <img src="pion-uayt_1-removebg-preview.png" 
       class="peony peony-5" alt="Пион"
       style="width: 320px; height: 320px; left: 35%; top: -5%;">
  
  <img src="KKQZ8142-480x480-removebg-preview.png" 
       class="peony peony-6" alt="Пион"
       style="width: 300px; height: 300px; right: 30%; top: 65%;">
  
  <img src="белые-пионы-в-саде-зацветая-белый-пион-крупный-план-красивого-белого-123816531-removebg-preview.png" 
       class="peony peony-7" alt="Пион"
       style="width: 360px; height: 360px; left: 20%; top: 70%;">
  
  <img src="pion-uayt_1-removebg-preview.png" 
       class="peony peony-8" alt="Пион"
       style="width: 400px; height: 400px; right: 10%; bottom: -8%;">
</div>
  <!-- Wave Container (new position) -->
  

  <!-- TOPBAR with language -->
  <div class="topbar" aria-hidden="false">
    <div class="wave-container">
      <svg class="wave-svg" viewBox="0 0 1440 120" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
        <style>
          .wave-path-1 {
            animation: waveAnim1 8s ease-in-out infinite alternate;
          }
          .wave-path-2 {
            animation: waveAnim2 10s ease-in-out infinite alternate;
            animation-delay: 0.5s;
          }
          .wave-path-3 {
            animation: waveAnim3 12s ease-in-out infinite alternate;
            animation-delay: 1s;
          }
          @keyframes waveAnim1 {
            0% { d: path("M0,120 C150,100 300,80 450,90 C600,100 750,140 900,110 C1050,80 1200,-20 1350,10 C1440,30 1440,30 1440,120 L0,120 Z"); }
            100% { d: path("M0,120 C150,110 300,100 450,100 C600,100 750,120 900,100 C1050,80 1200,10 1350,30 C1440,40 1440,40 1440,120 L0,120 Z"); }
          }
          @keyframes waveAnim2 {
            0% { d: path("M0,120 C120,110 240,100 360,95 C480,90 600,90 720,100 C840,110 960,130 1080,115 C1200,100 1320,50 1440,60 L1440,120 L0,120 Z"); }
            100% { d: path("M0,120 C120,115 240,110 360,100 C480,90 600,85 720,90 C840,95 960,115 1080,110 C1200,105 1320,70 1440,75 L1440,120 L0,120 Z"); }
          }
          @keyframes waveAnim3 {
            0% { d: path("M0,120 C100,105 200,90 300,95 C400,100 500,125 600,115 C700,105 800,60 900,70 C1000,80 1100,140 1200,130 C1300,120 1400,40 1440,20 L1440,120 L0,120 Z"); }
            100% { d: path("M0,120 C100,110 200,100 300,100 C400,100 500,115 600,110 C700,105 800,75 900,80 C1000,85 1100,125 1200,120 C1300,115 1400,60 1440,50 L1440,120 L0,120 Z"); }
          }
        </style>
  
        <defs>
          <linearGradient id="wave-gradient" x1="50%" y1="100%" x2="50%" y2="0%">
            <stop offset="5%" stop-color="#570519"></stop>
            <stop offset="95%" stop-color="#b40e37"></stop>
          </linearGradient>
        </defs>
        <path class="wave-path-1" fill="url(#wave-gradient)" fill-opacity="1" stroke="none" d="M0,120 C150,100 300,80 450,90 C600,100 750,140 900,110 C1050,80 1200,-20 1350,10 C1440,30 1440,30 1440,120 L0,120 Z"/>
        <path class="wave-path-2" fill="url(#wave-gradient)" fill-opacity="0.7" stroke="none" d="M0,120 C120,110 240,100 360,95 C480,90 600,90 720,100 C840,110 960,130 1080,115 C1200,100 1320,50 1440,60 L1440,120 L0,120 Z"/>
        <path class="wave-path-3" fill="url(#wave-gradient)" fill-opacity="0.4" stroke="none" d="M0,120 C100,105 200,90 300,95 C400,100 500,125 600,115 C700,105 800,60 900,70 C1000,80 1100,140 1200,130 C1300,120 1400,40 1440,20 L1440,120 L0,120 Z"/>
      </svg>
    </div>
    <div class="logo" id="logo">D & P</div>
    <div class="lang-switch" role="tablist" aria-label="Languages">
        <button class="lang-btn active" data-lang="ru" aria-pressed="true">RU</button>
        <button class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
        <button class="lang-btn" data-lang="uz" aria-pressed="false">UZ</button>
    </div>
</div>

<audio id="bgMusic" loop>
  <source src="Lofi Fruits Music, Chill Fruits Music - A Thousand Years copy 2.mp3" type="audio/mpeg">
</audio>

  <!-- HERO -->
  <div class="section hero" aria-label="Hero">
    <div class="hero-bg"></div>
    <div class="hero-pattern"></div>

    <div class="hero-content" role="banner" aria-live="polite">
      <!-- Использую твои имена и дату -->
      <div class="names fade-in" id="namesText">Далер &amp; Парвина</div>
      <div class="subtitle" id="inviteText">Приглашают вас на свою фотиха туй</div>
      <div class="date-pill" id="dateText">23.08.2025</div>
      <div class="time" id="timeText">Начало церемонии: <strong>19:00</strong></div>
    </div>

    <div class="scroll-down" onclick="document.getElementById('program').scrollIntoView({behavior:'smooth'})" role="button" aria-label="Scroll down">
      <div class="mouse"><div class="wheel"></div></div>
      <div id="scrollLabel">Листайте вниз</div>
    </div>
</div>

    <!-- HERO CONTENT (centered) -->

<div class="hero-content1" role="banner" aria-live="polite">
    <div class="wedding-text">
      <h1 class="h2 fade-in">Дорогой гость!</h1>
      <br>
      <div class="text-block fade-in">
        <span class="fade-in" style="transition-delay: 0.3s"></span>
      </div>
      <div class="text-block fade-in" style="transition-delay: 0.3s">
        <span class="fade-in" style="transition-delay: 0.6s"></span>
      </div>
      <div class="text-block fade-in" style="transition-delay: 0.6s">
        <span class="fade-in" style="transition-delay: 0.9s"></span>
      </div>
      <br>
      <hr>
      <p class="p fade-in" style="transition-delay: 0.9s">с любовью</p>
      <h1 class="texth1 fade-in" style="transition-delay: 1.2s" id="texth1">Далер & Парвина</h1>
    </div>
</div>


  
    <div class="calendar">
        <h3 class="h3 fade-in">Август</h3>
        <div class="weekdays fade-in">
            <div>Пн</div><div>Вт</div><div>Ср</div><div>Чт</div><div>Пт</div><div>Сб</div><div>Вс</div>
            </div>
        <div class="days fade-in" id="days-container"></div>
    </div>
    <div class="countdown-container">
  <div class="countdown-title fade-in">До нашего фотиха туй осталось:</div>
  <div class="countdown-timer">
    <div class="countdown-item">
      <div class="countdown-number" id="days">00</div>
      <div class="countdown-label">дней</div>
    </div>
    <div class="countdown-item">
      <div class="countdown-number" id="hours">00</div>
      <div class="countdown-label">часов</div>
    </div>
    <div class="countdown-item">
      <div class="countdown-number" id="minutes">00</div>
      <div class="countdown-label">минут</div>
    </div>
    <div class="countdown-item">
      <div class="countdown-number" id="seconds">00</div>
      <div class="countdown-label">секунд</div>
    </div>
  </div>
</div>

  <!-- PROGRAM -->
  <div id="program" class="content">
    <div class="wrap">
      <div class="grid">
        <div class="card" id="cardVenue" style="transition-delay:.08s">
          <h2 class="section-title" id="venueTitle">Место проведения</h2>
            <video id="venueVideo" width="100%" controls style="cursor:pointer;">
            <source src="IMG_6597.MP4" type="video/mp4" />
                Ваш браузер не поддерживает видео.
            </video>
          <p class="lead" id="venueText">Fotima Sultan<br>Улица: Янги Хайробот <br> Город: Самарканд</p>
        </div>
        <div style="text-align: center; margin-top: 25px; margin-bottom: 15px;">
                <a href="https://2gis.uz/samarkand/firm/70000001103272198?m=67.008458%2C39.661581%2F12.28" 
                target="_blank"
                class="map-button">
                Открыть в картах
            </a>
        </div>
      </div>
    </div>
</div>

  <!-- RSVP -->
  <div id="rsvp" class="content">
    <div class="wrap" style="max-width:760px">
      <div class="card" id="cardRsvp" style="transition-delay:.15s">
        <h2 class="section-title" id="rsvpTitle">Подтвердите участие</h2>
        <div class="rsvp">
          <form id="rsvpForm">
            <input id="firstName" type="text" placeholder="Имя" required>
            <input id="lastName" type="text" placeholder="Фамилия" required>
            <select id="coming" required>
              <option value="">Выберите</option>
              <option value="yes" id="optYes">Да, приду</option>
              <option value="no" id="optNo">К сожалению, нет</option>
            </select>
            <button class="btn" type="submit" id="sendBtn">Отправить</button>
          </form>

          <div id="rsvpMessage" style="display:none;margin-top:12px;font-size:.95rem;"></div>

        </div>
      </div> 
    </div>
</div>
<h1 class="texth1 fade-in h33" id="texth1">Будем ждать вас !</h1>

  <footer>
    © 2025 — Приглашение — 23 августа
    <p>Автор : Болтаев Тимур А <br> Для заказа: +998 97 926-66-09</p>
  </footer>
<script>
/* ============================
   Translations
   ============================ */
/* ============================
/* ============================
   Translations
   ============================ */

   const translations = {
  ru: {
    names: "Далер & Парвина",
    date: "23.08.2025",
    invite: "Приглашают вас на наш фотиха туй",
    timeHtml: "Начало церемонии: <strong>19:00</strong>",
    scroll: "Листайте вниз",
    venueTitle: "Место проведения",
    venueText: "Fotima Sultan <br>Улица: Янги Хайробот <br> Город: Самарканд",
    rsvpTitle: "Подтвердите участие",
    optYes: "Да, приду",
    optNo: "К сожалению, нет",
    sendBtn: "Отправить",
    savedMsg: "Спасибо! Ваш ответ сохранён.",
    fillError: "Ошибка: заполните все поля",
    greetingTitle: "Дорогой гость!",
    greetingText: [
      "С огромной радостью приглашаем вас разделить с нами особенный день — день нашей ФОТИХА ТУЙ.",
      "Мы хотим, чтобы вы были частью этого чудесного события, полного любви, радости и счастья.",
      "Будем счастливы видеть вас 23 августа 2025 года в ресторане, Fotima Sultan."
    ],
    firstNamePlaceholder: "Имя",
    lastNamePlaceholder: "Фамилия",
    selectDefault: "Выберите",
    calendarTitle: "Август",
    weekdays: ["Пн", "Вт", "Ср", "Чт", "Пт", "Сб", "Вс"],
    withLove: "с любовью",
    countdownTitle: "До нашего фотиха туй осталось:",
    mapButton: "Открыть в картах",
    countdownLabels: {
      days: "дней",
      hours: "часов",
      minutes: "минут",
      seconds: "секунд"
    },
    footerText: "© 2025 — Приглашение — 23 августа",
    authorText: "Автор : Болтаев Тимур А <br> Для заказа: +998 97 926-66-09",
    waitingText: "Будем ждать вас !",
    langModalTitle: "Выберите язык"
  },
  en: {
    names: "Daler & Parvina",
    invite: "Invite you to their wedding",
    date: "23.08.2025",
    timeHtml: "Ceremony starts: <strong>7:00 PM</strong>",
    scroll: "Scroll down",
    venueTitle: "Venue",
    venueText: "Fotima Sultan <br>Street: Yangi Xayrobot <br> City: Samarqand",
    rsvpTitle: "Confirm attendance",
    optYes: "Yes, I'll attend",
    optNo: "No, unfortunately",
    sendBtn: "Send",
    savedMsg: "Thanks! Your response has been recorded.",
    fillError: "Error: please fill out all fields",
    greetingTitle: "Dear Guest!",
    greetingText: [
      "With great joy we invite you to share our special day - our WEDDING DAY.",
      "We want you to be part of this wonderful event full of love, joy and happiness.",
      "We will be happy to see you on August 23, 2025 at Fotima Sultan restaurant."
    ],
    firstNamePlaceholder: "First Name",
    lastNamePlaceholder: "Last Name",
    selectDefault: "Select",
    calendarTitle: "August",
    weekdays: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
    withLove: "with love",
    countdownTitle: "Time until our wedding:",
    mapButton: "Open in Maps",
    countdownLabels: {
      days: "days",
      hours: "hours",
      minutes: "minutes",
      seconds: "seconds"
    },
    footerText: "© 2025 — Invitation — August 23",
    authorText: "Author : Boltayev Timur A <br> For order: +998 97 926-66-09",
    waitingText: "We'll be waiting for you!",
    langModalTitle: "Select language"
  },
  uz: {
    names: "Daler & Parvina",
    invite: "Sizni fotiha to'yga taklif qilamiz",
    date: "23.08.2025",
    timeHtml: "Marosim boshlanishi: <strong>19:00</strong>",
    scroll: "Pastga aylantiring",
    venueTitle: "Tadbir joyi",
    venueText: "Fotima Sultan <br>Ko'cha: Yangi Xayrobot <br> Shahar: Samarqand",
    rsvpTitle: "Ishtirokni tasdiqlang",
    optYes: "Ha, kelaman",
    optNo: "Kechirasiz, kelolmayman",
    sendBtn: "Yuborish",
    savedMsg: "Rahmat! Javobingiz qabul qilindi.",
    fillError: "Xato: barcha maydonlarni to'ldiring",
    greetingTitle: "Aziz Mehmon!",
    greetingText: [
      "Katta quvonch bilan sizni bizning maxsus kunimizga - FOTIHA TUYIMIZGA taklif qilamiz.",
      "Bu sevgi, quvonch va baxtga to'la ajoyib tadbirda qatnashishingizni istaymiz.",
      "2025 yil 23 avgust kuni Fotima Sultan restoranida ko'rishdan xursand bo'lamiz."
    ],
    firstNamePlaceholder: "Ism",
    lastNamePlaceholder: "Familiya",
    selectDefault: "Tanlang",
    calendarTitle: "Avgust",
    weekdays: ["Du", "Se", "Ch", "Pa", "Ju", "Sh", "Ya"],
    withLove: "muhabbat bilan",
    countdownTitle: "Fotiha tuyimizgacha qolgan vaqt:",
    mapButton: "Xaritada ochish",
    countdownLabels: {
      days: "kun",
      hours: "soat",
      minutes: "daqiqa",
      seconds: "soniya"
    },
    footerText: "© 2025 — Taklifnoma — 23 Avgust",
    authorText: "Muallif : Boltayev Timur A <br> Buyurtma uchun: +998 97 926-66-09",
    waitingText: "Sizni kutamiz!",
    langModalTitle: "Tilni tanlang"
  }
};

let lang = 'ru';
let peoniesInitialized = false;

/* ============================
   Music Player
   ============================ */
function initMusic() {
  const music = document.getElementById('bgMusic');
  if (!music) return;
  
  music.volume = 0.3;
  
  const playPromise = music.play();
  
  if (playPromise !== undefined) {
    playPromise.catch(error => {
      const startMusic = () => {
        music.play()
          .then(() => {
            document.removeEventListener('click', startMusic);
            document.removeEventListener('touchstart', startMusic);
          })
          .catch(e => console.log("Audio play error:", e));
      };
      
      document.addEventListener('click', startMusic, { once: true });
      document.addEventListener('touchstart', startMusic, { once: true });
    });
  }
}

/* ============================
   Peonies Animation
   ============================ */
function initPeonies() {
  if (peoniesInitialized) return;
  peoniesInitialized = true;
  
  const peonies = document.querySelectorAll('.peony');
  peonies.forEach((peony, index) => {
    setTimeout(() => {
      peony.classList.add('visible');
    }, index * 300 + 500);
  });

  function adaptPeonies() {
    const isMobile = window.innerWidth < 768;
    peonies.forEach((peony, index) => {
      if (isMobile) {
        if (!peony.dataset.origSize) {
          peony.dataset.origSize = peony.style.width;
        }
        const originalSize = parseInt(peony.dataset.origSize);
        const mobileSize = originalSize * 0.6;
        peony.style.width = `${mobileSize}px`;
        peony.style.height = `${mobileSize}px`;
        
        switch(index) {
          case 0: peony.style.left = '5%'; peony.style.top = '10%'; break;
          case 1: peony.style.right = '5%'; peony.style.top = '15%'; break;
          case 2: peony.style.left = '3%'; peony.style.bottom = '12%'; break;
          case 3: peony.style.right = '4%'; peony.style.bottom = '18%'; break;
          case 4: peony.style.left = '30%'; peony.style.top = '-3%'; break;
          case 5: peony.style.right = '20%'; peony.style.top = '60%'; break;
          case 6: peony.style.left = '15%'; peony.style.top = '65%'; break;
          case 7: peony.style.right = '8%'; peony.style.bottom = '-5%'; break;
        }
      } else {
        if (peony.dataset.origSize) {
          peony.style.width = peony.dataset.origSize;
          peony.style.height = peony.dataset.origSize;
        }
      }
    });
  }

  adaptPeonies();
  window.addEventListener('resize', adaptPeonies);
}

/* ============================
   Language Functions
   ============================ */
function showLanguageModal() {
  const modal = document.getElementById('langModal');
  if (modal) {
    modal.classList.remove('hidden');
    document.getElementById('langModalTitle').textContent = translations[lang].langModalTitle;
  }
}

function setLanguage(selectedLang) {
  const modal = document.getElementById('langModal');
  if (modal) modal.classList.add('hidden');
  
  lang = selectedLang;
  applyLang(lang);
  updateActiveLangBtn(lang);
  localStorage.setItem('weddingLang', lang);
  
  initPeonies();
  
  if (!window.typeWriterInitialized) {
    window.typeWriterInitialized = true;
    initTypeWriter();
  }
}

function updateActiveLangBtn(currentLang) {
  document.querySelectorAll('.lang-btn').forEach(btn => {
    const isActive = btn.dataset.lang === currentLang;
    btn.classList.toggle('active', isActive);
    btn.setAttribute('aria-pressed', isActive);
  });
}

/* ============================
   Apply Language
   ============================ */
function applyLang(l) {
  const t = translations[l];
  if (!t) return;

  // Update text elements
  const textElements = {
    'namesText': t.names,
    'inviteText': t.invite,
    'dateText': t.date,
    'timeText': t.timeHtml,
    'scrollLabel': t.scroll,
    'venueTitle': t.venueTitle,
    'venueText': t.venueText,
    'rsvpTitle': t.rsvpTitle,
    'optYes': t.optYes,
    'optNo': t.optNo,
    'sendBtn': t.sendBtn,
    'langModalTitle': t.langModalTitle,
    'firstName': t.firstNamePlaceholder,
    'lastName': t.lastNamePlaceholder
  };

  for (const [id, text] of Object.entries(textElements)) {
    const element = document.getElementById(id);
    if (element) {
      if (id === 'timeText' || id === 'venueText') {
        element.innerHTML = text;
      } else {
        element.textContent = text;
      }
    }
  }

  // Update greeting text blocks with animation
  const textBlocks = document.querySelectorAll('.text-block span');
  if (textBlocks.length >= 3) {
    textBlocks[0].textContent = t.greetingText[0];
    textBlocks[1].textContent = t.greetingText[1];
    textBlocks[2].textContent = t.greetingText[2];
  }

  // Reset and animate text blocks
  document.querySelectorAll('.text-block').forEach(block => {
    block.classList.remove('visible');
  });

  setTimeout(() => {
    document.querySelectorAll('.text-block').forEach((block, index) => {
      setTimeout(() => {
        block.classList.add('visible');
      }, index * 300);
    });
  }, 100);

  // Update other elements
  const selectOption = document.querySelector('#coming option[value=""]');
  if (selectOption) selectOption.textContent = t.selectDefault;

  document.querySelector('.h3').textContent = t.calendarTitle;
  const weekdayElements = document.querySelectorAll('.weekdays div');
  t.weekdays.forEach((day, index) => {
    if (weekdayElements[index]) weekdayElements[index].textContent = day;
  });

  document.querySelector('.countdown-title').textContent = t.countdownTitle;
  const countdownLabels = ['days', 'hours', 'minutes', 'seconds'];
  document.querySelectorAll('.countdown-label').forEach((el, index) => {
    if (el) el.textContent = t.countdownLabels[countdownLabels[index]];
  });

  const footer = document.querySelector('footer');
  if (footer) footer.innerHTML = t.footerText + '<p>' + t.authorText + '</p>';

  document.querySelector('.h2').textContent = t.greetingTitle;
  document.querySelector('.p').textContent = t.withLove;
  document.querySelectorAll('#texth1').forEach(el => el.textContent = t.names);
  document.querySelector('.h33').textContent = t.waitingText;

  const mapButton = document.querySelector('.map-button');
  if (mapButton) mapButton.textContent = t.mapButton;

  if (window.typedTextEl) {
    window.typedTextEl.innerHTML = '';
    window.fullText = t.greetingText;
    window.sentenceIndex = 0;
    window.charIndex = 0;
    resetTypeWriter();
  }
}

/* ============================
   Typewriter Effect
   ============================ */
function initTypeWriter() {
  window.typedTextEl = document.getElementById('typed-text');
  if (!window.typedTextEl) return;
  
  window.fullText = translations[lang].greetingText;
  window.sentenceIndex = 0;
  window.charIndex = 0;
  resetTypeWriter();
}

function resetTypeWriter() {
  if (window.typeWriterTimeout) clearTimeout(window.typeWriterTimeout);
  
  const cursor = document.querySelector('.typing-cursor');
  if (cursor) cursor.style.display = 'inline-block';
  
  window.typeWriterTimeout = setTimeout(typeWriter, 500);
}

function typeWriter() {
  if (!window.fullText || !window.typedTextEl) return;

  if (window.sentenceIndex < window.fullText.length) {
    if (window.charIndex < window.fullText[window.sentenceIndex].length) {
      const charSpan = document.createElement('span');
      charSpan.className = 'typewriter-char';
      charSpan.textContent = window.fullText[window.sentenceIndex].charAt(window.charIndex);
      charSpan.style.animationDelay = `${(window.sentenceIndex * window.fullText[window.sentenceIndex].length + window.charIndex) * 20}ms`;
      
      window.typedTextEl.appendChild(charSpan);
      window.charIndex++;
      
      window.typeWriterTimeout = setTimeout(typeWriter, 30);
    } else {
      if (window.sentenceIndex < window.fullText.length - 1) {
        window.typedTextEl.appendChild(document.createElement('br'));
        window.typedTextEl.appendChild(document.createElement('br'));
      }
      window.sentenceIndex++;
      window.charIndex = 0;
      window.typeWriterTimeout = setTimeout(typeWriter, 90);
    }
  } else {
    const cursor = document.querySelector('.typing-cursor');
    if (cursor) cursor.style.display = 'none';
    document.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
  }
}

/* ============================
   Guest List Management
   ============================ */
function readGuests() {
  try {
    const raw = localStorage.getItem('weddingGuests');
    return raw ? JSON.parse(raw) : [];
  } catch(e) { 
    return []; 
  }
}

function writeGuests(arr) { 
  localStorage.setItem('weddingGuests', JSON.stringify(arr)); 
}

/* ============================
   RSVP Form Handler
   ============================ */
document.getElementById('rsvpForm').addEventListener('submit', function(e){
  e.preventDefault();
  const firstName = document.getElementById('firstName').value.trim();
  const lastName = document.getElementById('lastName').value.trim();
  const coming = document.getElementById('coming').value;
  
  if (!firstName || !lastName || (coming !== 'yes' && coming !== 'no')) { 
    showMessage(translations[lang].fillError, true); 
    return; 
  }

  const guests = readGuests();
  const idx = guests.findIndex(g => 
    g.firstName.toLowerCase() === firstName.toLowerCase() && 
    g.lastName.toLowerCase() === lastName.toLowerCase()
  );
  
  const item = { firstName, lastName, coming, ts: Date.now() };
  if (idx > -1) { 
    guests[idx] = item; 
  } else { 
    guests.push(item); 
  }
  
  writeGuests(guests);
  showMessage(translations[lang].savedMsg, false);
  this.reset();
});

function showMessage(txt, isError) {
  const el = document.getElementById('rsvpMessage');
  if (!el) return;
  
  el.style.display = 'block';
  el.style.color = isError ? '#c62828' : '#2e7d32';
  el.textContent = txt;
  setTimeout(() => el.style.display = 'none', 3000);
}

/* ============================
   Countdown Timer
   ============================ */
const weddingDate = new Date('August 23, 2025 19:00:00').getTime();

function updateCountdown() {
  const now = new Date().getTime();
  const distance = weddingDate - now;
  
  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
  document.getElementById('days').textContent = days.toString().padStart(2, '0');
  document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
  document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
  document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
  
  if (distance < 0) {
    clearInterval(countdownTimer);
    document.querySelector('.countdown-title').textContent = translations[lang].countdownTitle.replace("осталось", "началась!");
    document.querySelector('.countdown-timer').style.display = 'none';
  }
}

/* ============================
   Calendar Initialization
   ============================ */
function initCalendar() {
  const daysContainer = document.getElementById('days-container');
  if (!daysContainer) return;
  
  // Очищаем контейнер
  daysContainer.innerHTML = '';
  
  // Август 2025 начинается с пятницы (0 - воскресенье, 1 - понедельник и т.д.)
  const firstDayOfWeek = 5; // Пятница для августа 2025
  const totalDays = 31; // В августе 31 день
  
  // Добавляем пустые ячейки для дней до первого числа месяца
  for (let i = 0; i < firstDayOfWeek; i++) {
    const emptyDay = document.createElement('div');
    daysContainer.appendChild(emptyDay);
  }
  
  // Добавляем дни месяца
  for (let i = 1; i <= totalDays; i++) {
    const day = document.createElement('div');
    day.textContent = i;
    daysContainer.appendChild(day);
  }
  
  // Подсвечиваем 23 августа
  setTimeout(() => {
    const day23 = daysContainer.children[22 + firstDayOfWeek]; // 22 (индекс) + 5 (пустых дней)
    if (day23) day23.classList.add('highlight');
  }, 1500);
}

/* ============================
   Video Fullscreen
   ============================ */
function initVideoFullscreen() {
  const video = document.getElementById('venueVideo');
  if (!video) return;
  
  video.addEventListener('click', () => {
    if (document.fullscreenElement) {
      document.exitFullscreen();
    } else {
      video.requestFullscreen();
    }
  });
}

/* ============================
   Scroll Animations
   ============================ */
function initScrollAnimations() {
  const fadeElements = document.querySelectorAll('.fade-in:not(#typed-text-container *)');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, {
    threshold: 0.2,
    rootMargin: '0px 0px -50px 0px'
  });
  
  fadeElements.forEach(element => observer.observe(element));
}

/* ============================
   Main Initialization
   ============================ */
document.addEventListener('DOMContentLoaded', function() {
  initMusic();
  showLanguageModal();
  
  const savedLang = localStorage.getItem('weddingLang');
  if (savedLang) {
    applyLang(savedLang);
    updateActiveLangBtn(savedLang);
  }
  
  initCalendar();
  updateCountdown();
  const countdownTimer = setInterval(updateCountdown, 1000);
  initScrollAnimations();
  initVideoFullscreen();
  
  // Animate text blocks on load
  setTimeout(() => {
    document.querySelectorAll('.text-block').forEach((block, index) => {
      setTimeout(() => {
        block.classList.add('visible');
      }, index * 300 + 500);
    });
  }, 1000);
  
  document.querySelectorAll('.lang-btn, .lang-modal-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const lang = this.dataset.lang;
      setLanguage(lang);
    });
  });
});
</script>
</body>
</html>